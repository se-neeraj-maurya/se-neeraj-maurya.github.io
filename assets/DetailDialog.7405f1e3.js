import{Q as p}from"./QSkeleton.988a5daa.js";import{Q as b}from"./QImg.41d90a0b.js";import{Q as V,a as I}from"./QCarousel.5b21c0b3.js";import{aj as B,r as f,u as N,c as g,o as j,n as e,t as n,s as r,f as s,q as i,p as _,F as E,a6 as T,a5 as d,Q as x,v as y,aa as z,a4 as Q,ak as A,al as F,am as G}from"./index.e4506442.js";import{Q as P,a as R}from"./QCard.654a06cc.js";import{Q as U}from"./QSeparator.bb25cabe.js";import{Q as L}from"./QCardActions.d5bc900a.js";import{Q as M}from"./QDialog.ebf329ce.js";import{u as H}from"./globalStore.89ad5d96.js";import{u as J}from"./cart-store.39e945a6.js";const K=u=>(F("data-v-2314aba0"),u=u(),G(),u),O={key:0,class:"q-pa-md"},W={key:1,class:"q-pa-md product-detail"},X={class:""},Y={class:"text-h5 text-weight-medium q-mt-sm"},Z={class:"text- text-grey-8 q-mt-sm"},$={class:"flex item-center q-my-md"},tt={class:"text-h6"},et=K(()=>i("div",{class:"tt-spacer"},null,-1)),at={key:0,class:"q-mt-sm"},ot={__name:"DetailDialog",setup(u){const c=H(),h=J(),m=f(!1),k=N(),v=f(),t=f({}),C=g(()=>t.value&&t.value.images?t.value.images.map(a=>a.file_path):[]),q=g(()=>!!h.cartItems.find(o=>o.product_id==t.value.id)),D=()=>{const a={product_id:t.value.id,quantity:1},o=A(t.value);h.addToCart(a,o)},S=()=>{k.push({name:"my-cart"})},w=async()=>{m.value=!0;try{const a=await c.fetchSingleProduct(c.product.id);t.value=a.data,v.value=t.value.images[0].file_path}catch(a){console.log(a)}finally{m.value=!1}};return j(()=>{w()}),(a,o)=>(e(),n(M,{modelValue:Q(c).detailDialog,"onUpdate:modelValue":o[1]||(o[1]=l=>Q(c).detailDialog=l),position:"bottom","full-height":"",maximized:"",class:"tt-full-width tt-product-detail"},{default:r(()=>[s(P,null,{default:r(()=>[s(R,{style:{"max-height":"90vh","min-height":"60vh"},class:"scroll q-pa-none"},{default:r(()=>[i("div",null,[m.value?(e(),n(p,{key:0,height:"200px",square:""})):(e(),n(V,{key:1,modelValue:v.value,"onUpdate:modelValue":o[0]||(o[0]=l=>v.value=l),"transition-prev":"jump-right","transition-next":"jump-left",swipeable:"",animated:"","control-color":"white","prev-icon":"arrow_left","next-icon":"arrow_right",navigation:"",infinite:"","keep-alive":"",autoplay:2e3,class:"detail-carousel"},{default:r(()=>[(e(!0),_(E,null,T(C.value,l=>(e(),n(I,{key:l,name:l},{default:r(()=>[s(b,{class:"rounded-borders",fit:"contain",src:l,loading:"lazy","spinner-color":"white",height:"200px"},null,8,["src"])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]))]),m.value?(e(),_("div",O,[s(p,{type:"text",class:"text-subtitle1"}),s(p,{type:"text",class:"text-subtitle1"}),s(p,{type:"text",class:"text-subtitle1"})])):(e(),_("div",W,[i("div",X,[i("div",Y,d(t.value.name),1),i("div",Z,d(t.value.uomQty)+" "+d(t.value.uom),1)]),i("div",$,[i("div",tt,"\u20B9 "+d(t.value.sellPrice),1),et,q.value?(e(),n(x,{key:0,unelevated:"",rounded:"",outline:"",class:"q-px-lg",color:"primary",onClick:S},{default:r(()=>[y(" Go to Cart ")]),_:1})):(e(),n(x,{key:1,class:"q-px-lg",rounded:"",unelevated:"",outline:"",color:"primary",onClick:D},{default:r(()=>[y(" Add to cart ")]),_:1}))]),t.value.description?(e(),_("p",at,d(t.value.description),1)):z("",!0)]))]),_:1}),s(U),s(L,{class:"q-mx-md",align:"right"})]),_:1})]),_:1},8,["modelValue"]))}};var _t=B(ot,[["__scopeId","data-v-2314aba0"]]);export{_t as D};
