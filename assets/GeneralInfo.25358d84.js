import{k as g,u as y,r as u,o as V,n as x,p as Q,f as t,s as n,q as l,Q as p,v as k}from"./index.c73ad5d1.js";import{Q as w,a as f}from"./QCard.f27ef106.js";import{Q as r}from"./QInput.4d258c5d.js";import{Q as N}from"./QForm.40f5f0c2.js";import{u as B}from"./authStore.cbfd6f4c.js";import"./use-dark.008590ea.js";import"./uid.42677368.js";import"./focus-manager.02955f48.js";import"./use-form.6491fe21.js";import"./axios.boot.7a3cb386.js";const P={class:"wrapper-my-profile"},U={class:"row items-center"},C=l("div",{class:"text-h5 q-ml-md"},"Genral Information",-1),S={class:"q-px-md q-px-lg"},D=l("label",{class:"q-label"},"Name",-1),E=l("label",{class:"q-label"},"Phone Number",-1),F={class:"q-pb-md"},I=l("label",{class:"q-label"},"Email",-1),R={class:"q-pb-sm"},G=l("label",{class:"q-label"},"Description",-1),W={__name:"GeneralInfo",setup(A){const d=g(),m=B(),v=y(),c=u(),i=u(),s=u({name:null,email:null,phone:null,description:null}),h=()=>{v.back()},_=async()=>{c.value.validate().then(o=>{o&&q()})},b=()=>{},q=async()=>{try{i.value=!0;const o=s.value,a=await m.updateProfile(o);d.notify({progress:!0,type:"positive",position:"top",message:a.message,color:"green",timeout:2e3})}catch(o){d.notify({progress:!0,position:"top",type:"negative",message:o.data.message,color:"red",timeout:2e3})}finally{i.value=!1}};return V(()=>{const o=m.user;s.value={name:o.name,email:o.email,phone:o.phone,description:o.description}}),(o,a)=>(x(),Q("div",P,[t(w,{class:"bg-grey-3"},{default:n(()=>[t(f,{class:"row items-center header-action-bar q-px-xs"},{default:n(()=>[l("div",U,[t(p,{round:"",unelevated:"",icon:"arrow_back",onClick:h}),C])]),_:1}),t(f,{style:{height:"calc(100vh - 66px)",position:"relative"},class:"scroll q-pa-none"},{default:n(()=>[t(N,{onSubmit:_,onReset:b,ref_key:"myForm",ref:c},{default:n(()=>[l("div",S,[l("div",null,[D,t(r,{modelValue:s.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>s.value.name=e),outlined:"",dense:"",placeholder:"Name",class:"q-mb-sm",rules:[e=>e&&e.length>0||"Name is required"]},null,8,["modelValue","rules"])]),l("div",null,[E,t(r,{modelValue:s.value.phone,"onUpdate:modelValue":a[1]||(a[1]=e=>s.value.phone=e),outlined:"",dense:"",disable:"",placeholder:"Phone",prefix:"+91",class:"q-mb-sm",rules:[e=>e&&e.length>0||"Phone is required"]},null,8,["modelValue","rules"])]),l("div",F,[I,t(r,{modelValue:s.value.email,"onUpdate:modelValue":a[2]||(a[2]=e=>s.value.email=e),outlined:"",dense:"",placeholder:"Email",class:"q-mb-sm"},null,8,["modelValue"])]),l("div",R,[G,t(r,{type:"textarea",modelValue:s.value.description,"onUpdate:modelValue":a[3]||(a[3]=e=>s.value.description=e),outlined:"",dense:"",placeholder:"Description",class:"q-mb-lg"},null,8,["modelValue"])]),t(p,{type:"submit",loading:i.value,color:"primary",unevevated:"",class:"full-width",rounded:""},{default:n(()=>[k("Update")]),_:1},8,["loading"])])]),_:1},512)]),_:1})]),_:1})]))}};export{W as default};
