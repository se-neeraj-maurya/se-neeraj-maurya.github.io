import{r as i,w as P,p as l,q as v,s as t,F as y,ah as k,am as S,f as o,ac as C,ag as b,c as B,x,t as _,l as j,u as A,o as F,aF as I,ai as M,af as N,Q as D,v as H,al as U}from"./index.e93ee3cf.js";import{Q as q}from"./QSkeleton.31e066be.js";import{Q as R}from"./QPage.8a16f10e.js";import{u as z}from"./globalStore.41c0f409.js";import{_ as E}from"./ProductList2.64e7e8df.js";import{a as G,Q as O}from"./QCarousel.47a6fd35.js";import{c as T}from"./db.eb94c5fc.js";import"./selection.74ed7bcb.js";const X={class:"cat-list-x-container"},J=["onClick"],K={class:"q-pt-sm ellipsis-2-lines"},V={__name:"CategoryListX",props:{modelValue:{type:String,default:null},list:{type:Array}},setup(f){const c=f,d=i();return P(()=>c.modelValue,a=>{d.value=a},{immediate:!0}),(a,m)=>(l(),v("div",X,[t("ul",null,[(l(!0),v(y,null,k(c.list,s=>(l(),v("li",{key:s,class:S({active:s.title==d.value}),onClick:u=>a.$emit("update:model-value",s.title)},[o(C,{class:"rounded-borders",style:{width:"60px","min-height":"60px"},src:s.image},null,8,["src"]),t("div",K,b(s.title),1)],10,J))),128))])]))}},W={__name:"HomeCarousel",props:{items:{type:Array}},emits:["click"],setup(f,{emit:c}){const d=f,a=i("carousel-1"),m=B(()=>d.items);return(s,u)=>(l(),x(O,{modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=r=>a.value=r),"transition-prev":"jump-right","transition-next":"jump-left",swipeable:"",animated:"","control-color":"white","prev-icon":"arrow_left","next-icon":"arrow_right",navigation:"",infinite:"","keep-alive":"",autoplay:2e3},{default:_(()=>[(l(!0),v(y,null,k(m.value,r=>(l(),x(G,{key:r.name,name:r.name},{default:_(()=>[o(C,{class:"rounded-borders",fit:"contain",src:r.image},null,8,["src"])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]))}},Y={class:"product-list"},Z={class:"q-pa-sm full-width"},ee={class:"row no-wrap items-center"},te={class:"q-px-sm col"},ae=t("div",{class:"q-pa-md text-title"},"Category",-1),se=t("div",{class:"q-pa-md q-mt-sm text-title"},"Latest Items",-1),oe={class:"col q-px-md"},le={class:"col q-px-md"},re={class:"q-pa-md text-center"},_e=Object.assign({name:"HomeScreen"},{__name:"HomeScreen",setup(f){const c=z(),d=j();A();const a=i(),m=i([]),s=i(!1),u=i(!1),r=i(1),g=i(1),h=i([]),Q=n=>{c.openProductDetail(n)},L=async()=>{const n={page:1};try{s.value=!0;const e=await c.fetchProduct(n);h.value=e.data.list,r.value=e.data.total_pages,g.value=e.data.page}catch(e){console.log(e)}finally{s.value=!1}},$=async()=>{const n={page:g.value+1};try{u.value=!0;const e=await c.fetchProduct(n);h.value=h.value.concat(e.data.list),r.value=e.data.total_pages,g.value=e.data.page}finally{u.value=!1}},w=n=>{d.push({name:"product-by-category",params:{category:n.replaceAll(" ","-")}})};return F(()=>{m.value=c.categories,L()}),(n,e)=>(l(),x(R,{class:"main-container row no-wrap product-list-page"},{default:_(()=>[t("div",Y,[t("div",Z,[t("div",ee,[t("div",te,[o(I,{outlined:"",rounded:"",dense:"",class:"search-input",placeholder:"Search...",onFocus:e[0]||(e[0]=p=>n.$router.push({name:"search"}))},{append:_(()=>[o(M,{name:"search"})]),_:1})])])]),o(W,{items:N(T)},null,8,["items"]),o(V,{class:"horigental-category",list:m.value,modelValue:a.value,"onUpdate:modelValue":[e[1]||(e[1]=p=>a.value=p),w]},null,8,["list","modelValue"]),ae,o(V,{list:m.value,modelValue:a.value,"onUpdate:modelValue":[e[2]||(e[2]=p=>a.value=p),w]},null,8,["list","modelValue"]),se,s.value?(l(),v(y,{key:0},k(3,p=>t("div",{class:"q-mb-md q-px-md flex no-wrap justify-center",key:p},[t("div",oe,[o(q,{height:"150px",square:""})]),t("div",le,[o(q,{height:"150px",square:""})])])),64)):(l(),v(y,{key:1},[o(E,{products:h.value,"onClick:detail":Q},null,8,["products"]),t("div",re,[g.value<r.value?(l(),x(D,{key:0,class:"full-widh q-px-lg",color:"primary","no-caps":"",outline:"",unelevated:"",rounded:"",loading:u.value,onClick:$},{default:_(()=>[H(" Load More... ")]),_:1},8,["loading"])):U("",!0)])],64))])]),_:1}))}});export{_e as default};
