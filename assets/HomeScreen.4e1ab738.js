import{r,w as $,p as c,q as h,s as n,F as V,ah as C,am as q,f as i,ac as k,ag as S,c as b,x as y,t as p,l as B,u as A,o as F,aF as I,ai as M,af as N,Q as j,v as D,al as H}from"./index.b415cf6e.js";import{Q as U}from"./QPage.58ee095e.js";import{u as R}from"./globalStore.1ad2db3a.js";import{_ as z}from"./ProductList2.de7365e9.js";import{a as E,Q as G}from"./QCarousel.ce68ee19.js";import{c as O}from"./db.eb94c5fc.js";import"./selection.02138577.js";const T={class:"cat-list-x-container"},X=["onClick"],J={class:"q-pt-sm ellipsis-2-lines"},x={__name:"CategoryListX",props:{modelValue:{type:String,default:null},list:{type:Array}},setup(v){const a=v,d=r();return $(()=>a.modelValue,t=>{d.value=t},{immediate:!0}),(t,m)=>(c(),h("div",T,[n("ul",null,[(c(!0),h(V,null,C(a.list,s=>(c(),h("li",{key:s,class:q({active:s.title==d.value}),onClick:u=>t.$emit("update:model-value",s.title)},[i(k,{class:"rounded-borders",style:{width:"60px","min-height":"60px"},src:s.image},null,8,["src"]),n("div",J,S(s.title),1)],10,X))),128))])]))}},K={__name:"HomeCarousel",props:{items:{type:Array}},emits:["click"],setup(v,{emit:a}){const d=v,t=r("carousel-1"),m=b(()=>d.items);return(s,u)=>(c(),y(G,{modelValue:t.value,"onUpdate:modelValue":u[0]||(u[0]=o=>t.value=o),"transition-prev":"jump-right","transition-next":"jump-left",swipeable:"",animated:"","control-color":"white","prev-icon":"arrow_left","next-icon":"arrow_right",navigation:"",infinite:"","keep-alive":"",autoplay:2e3},{default:p(()=>[(c(!0),h(V,null,C(m.value,o=>(c(),y(E,{key:o.name,name:o.name},{default:p(()=>[i(k,{class:"rounded-borders",fit:"contain",src:o.image},null,8,["src"])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]))}},W={class:"product-list"},Y={class:"q-pa-sm full-width"},Z={class:"row no-wrap items-center"},ee={class:"q-px-sm col"},te=n("div",{class:"q-pa-md text-title"},"Category",-1),ae=n("div",{class:"q-pa-md q-mt-sm text-title"},"Latest Items",-1),se={class:"q-pa-md text-center"},de=Object.assign({name:"HomeScreen"},{__name:"HomeScreen",setup(v){const a=R(),d=B();A();const t=r("Soups & Porridges"),m=r([]),s=r(!1),u=r(!1),o=r(1),_=r(1),g=r([]),L=l=>{a.openProductDetail(l)},P=async()=>{const l={page:1};try{s.value=!0;const e=await a.fetchProduct(l);g.value=e.data.list,o.value=e.data.total_pages,_.value=e.data.page}catch(e){console.log(e)}finally{s.value=!1}},Q=async()=>{const l={page:_.value+1};try{u.value=!0;const e=await a.fetchProduct(l);g.value=g.value.concat(e.data.list),o.value=e.data.total_pages,_.value=e.data.page}finally{u.value=!1}},w=l=>{d.push({name:"product-by-category",params:{category:l.replaceAll(" ","-")}})};return F(()=>{console.log("fetchProductList"),m.value=a.categories,t.value=a.categories[0].title,P()}),(l,e)=>(c(),y(U,{class:"main-container row no-wrap product-list-page"},{default:p(()=>[n("div",W,[n("div",Y,[n("div",Z,[n("div",ee,[i(I,{outlined:"",rounded:"",dense:"",class:"search-input",placeholder:"Search...",onFocus:e[0]||(e[0]=f=>l.$router.push({name:"search"}))},{append:p(()=>[i(M,{name:"search"})]),_:1})])])]),i(K,{items:N(O)},null,8,["items"]),i(x,{class:"horigental-category",list:m.value,modelValue:t.value,"onUpdate:modelValue":[e[1]||(e[1]=f=>t.value=f),w]},null,8,["list","modelValue"]),te,i(x,{list:m.value,modelValue:t.value,"onUpdate:modelValue":[e[2]||(e[2]=f=>t.value=f),w]},null,8,["list","modelValue"]),ae,i(z,{products:g.value,"onClick:detail":L},null,8,["products"]),n("div",se,[_.value<o.value?(c(),y(j,{key:0,class:"full-widh q-px-lg",color:"primary","no-caps":"",outline:"",unelevated:"",rounded:"",loading:u.value,onClick:Q},{default:p(()=>[D(" Load More... ")]),_:1},8,["loading"])):H("",!0)])])]),_:1}))}});export{de as default};
