import{r,w as $,n as c,p as h,q as n,F as x,a9 as C,ac as q,f as i,a8 as S,c as b,t as y,s as p,u as B,o as A,aa as I,a7 as M,Q as N,v as j,ad as D}from"./index.505fe819.js";import{Q as F}from"./QInput.96dd37e8.js";import{Q as H}from"./QPage.da6db2e0.js";import{u as U}from"./globalStore.2d8466bd.js";import{_ as R}from"./ProductList2.9df0d76f.js";import{Q as k}from"./QImg.35b60f54.js";import{a as z,Q as E}from"./QCarousel.b28c3a84.js";import{c as G}from"./db.eb94c5fc.js";import{u as O}from"./authStore.1ea90ecb.js";import"./use-dark.4febbc10.js";import"./uid.42677368.js";import"./focus-manager.02955f48.js";import"./use-form.028ded9f.js";import"./axios.boot.60e72c0f.js";import"./selection.2848d0b3.js";const T={class:"cat-list-x-container"},X=["onClick"],J={class:"q-pt-sm ellipsis-2-lines"},V={__name:"CategoryListX",props:{modelValue:{type:String,default:null},list:{type:Array}},setup(v){const a=v,d=r();return $(()=>a.modelValue,t=>{d.value=t},{immediate:!0}),(t,m)=>(c(),h("div",T,[n("ul",null,[(c(!0),h(x,null,C(a.list,s=>(c(),h("li",{key:s,class:q({active:s.title==d.value}),onClick:u=>t.$emit("update:model-value",s.title)},[i(k,{class:"rounded-borders",style:{width:"60px","min-height":"60px"},src:s.image},null,8,["src"]),n("div",J,S(s.title),1)],10,X))),128))])]))}},K={__name:"HomeCarousel",props:{items:{type:Array}},emits:["click"],setup(v,{emit:a}){const d=v,t=r("carousel-1"),m=b(()=>d.items);return(s,u)=>(c(),y(E,{modelValue:t.value,"onUpdate:modelValue":u[0]||(u[0]=o=>t.value=o),"transition-prev":"jump-right","transition-next":"jump-left",swipeable:"",animated:"","control-color":"white","prev-icon":"arrow_left","next-icon":"arrow_right",navigation:"",infinite:"","keep-alive":"",autoplay:2e3},{default:p(()=>[(c(!0),h(x,null,C(m.value,o=>(c(),y(z,{key:o.name,name:o.name},{default:p(()=>[i(k,{class:"rounded-borders",fit:"contain",src:o.image},null,8,["src"])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]))}},W={class:"product-list"},Y={class:"q-pa-sm full-width"},Z={class:"row no-wrap items-center"},ee={class:"q-px-sm col"},te=n("div",{class:"q-pa-md text-title"},"Category",-1),ae=n("div",{class:"q-pa-md q-mt-sm text-title"},"Latest Items",-1),se={class:"q-pa-md text-center"},ye=Object.assign({name:"HomeScreen"},{__name:"HomeScreen",setup(v){const a=U(),d=B();O();const t=r("Soups & Porridges"),m=r([]),s=r(!1),u=r(!1),o=r(1),_=r(1),f=r([]),Q=l=>{a.openProductDetail(l)},L=async()=>{const l={page:1};try{s.value=!0;const e=await a.fetchProduct(l);f.value=e.data.list,o.value=e.data.total_pages,_.value=e.data.page}catch(e){console.log(e)}finally{s.value=!1}},P=async()=>{const l={page:_.value+1};try{u.value=!0;const e=await a.fetchProduct(l);f.value=f.value.concat(e.data.list),o.value=e.data.total_pages,_.value=e.data.page}finally{u.value=!1}},w=l=>{d.push({name:"product-by-category",params:{category:l.replaceAll(" ","-")}})};return A(()=>{console.log("fetchProductList"),m.value=a.categories,t.value=a.categories[0].title,L()}),(l,e)=>(c(),y(H,{class:"main-container row no-wrap product-list-page"},{default:p(()=>[n("div",W,[n("div",Y,[n("div",Z,[n("div",ee,[i(F,{outlined:"",rounded:"",dense:"",class:"search-input",placeholder:"Search...",onFocus:e[0]||(e[0]=g=>l.$router.push({name:"search"}))},{append:p(()=>[i(I,{name:"search"})]),_:1})])])]),i(K,{items:M(G)},null,8,["items"]),i(V,{class:"horigental-category",list:m.value,modelValue:t.value,"onUpdate:modelValue":[e[1]||(e[1]=g=>t.value=g),w]},null,8,["list","modelValue"]),te,i(V,{list:m.value,modelValue:t.value,"onUpdate:modelValue":[e[2]||(e[2]=g=>t.value=g),w]},null,8,["list","modelValue"]),ae,i(R,{products:f.value,"onClick:detail":Q},null,8,["products"]),n("div",se,[_.value<o.value?(c(),y(N,{key:0,class:"full-widh q-px-lg",color:"primary","no-caps":"",outline:"",unelevated:"",rounded:"",loading:u.value,onClick:P},{default:p(()=>[j(" Load More... ")]),_:1},8,["loading"])):D("",!0)])])]),_:1}))}});export{ye as default};
