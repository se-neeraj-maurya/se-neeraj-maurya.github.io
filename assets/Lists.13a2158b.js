import{k as D,u as I,r as o,o as z,n as l,t as v,s as a,f as e,q as t,Q as r,p as m,a9 as C,a5 as q,F as g,a0 as w,v as F,a8 as M,ad as P,a7 as R,ab as j}from"./index.19c34057.js";import{a as h,Q as b}from"./QCard.51e3b46a.js";import{Q as V}from"./QSeparator.878efa33.js";import{Q as y}from"./QSkeleton.47cad92d.js";import{Q as E,a as x}from"./QItem.0be4274f.js";import{Q as O}from"./QList.7d34ec6f.js";import{Q as T}from"./QCardActions.f12f6d79.js";import{Q as U}from"./QDialog.04c0b3f2.js";import{Q as Y}from"./QPage.f71ddb18.js";import{C as $}from"./ClosePopup.36d83bf1.js";import{u as G}from"./adminStore.2b45b776.js";import"./use-dark.c31cdf99.js";import"./focus-manager.02955f48.js";import"./axios.boot.c72b97f5.js";const H={class:"row items-center"},J=t("div",{class:"text-h5 q-ml-md"},"My Category",-1),K=t("div",{class:"tt-spacer"},null,-1),W=t("span",{style:{"font-weight":"400","letter-spacing":"0.65px"},class:"q-mr-xs text-capitalize"},"Add New ",-1),X={class:"q-pl-sm full-width"},Z={class:"text-weight-medium text-h6 q-mb-xs"},ee={key:1,class:"lists"},ae=["src"],te={class:"flex"},se=t("span",{class:"q-ml-sm text-h5 text-center"},"Are you sure want to delete category.",-1),xe=Object.assign({name:"CategoryLists"},{__name:"Lists",setup(le){const c=G();D();const Q=I(),B=()=>{Q.push({name:"category-create"})},p=o(!1),i=o(!1),n=o(!1),f=o(0),_=o(-1),L=()=>{Q.back()},N=async()=>{try{p.value=!0,await c.FetchCategory()}finally{p.value=!1}},S=(d,u)=>{f.value=d,_.value=u,i.value=!0},A=async()=>{n.value=!0;try{await c.DeleteCategory(f.value),c.categories.splice(_.value,1),f.value=0,_.value=-1,i.value=!1}catch(d){console.error(d)}finally{n.value=!1}};return z(()=>{N()}),(d,u)=>(l(),v(Y,{class:"aa-product-list-page"},{default:a(()=>[e(b,{unelevated:"",class:"aa-product-page"},{default:a(()=>[e(h,{class:"row items-center header-action-bar q-px-xs"},{default:a(()=>[t("div",H,[e(r,{round:"",unelevated:"",icon:"arrow_back",onClick:L}),J]),K,e(r,{flat:"",color:"primary",onClick:B},{default:a(()=>[W]),_:1})]),_:1}),e(V),e(h,{style:{height:"calc(100vh - 66px)"},class:"scroll q-pa-none"},{default:a(()=>[p.value?(l(),m(g,{key:0},C(5,s=>t("div",{class:"profile-card col q-mx-md q-mb-md q-px-md q-py-md flex no-wrap items-center bg-white",key:s},[t("div",null,[e(q,{size:"54px"},{default:a(()=>[e(y,{height:"55px",width:"55px",square:""})]),_:1})]),t("div",X,[t("div",Z,[e(y,{height:"30px",square:""})]),t("div",null,[e(y)])])])),64)):(l(),m("div",ee,[e(O,{bordered:""},{default:a(()=>[(l(!0),m(g,null,C(R(c).categories,(s,k)=>(l(),m(g,{key:"category"+k},[w((l(),v(E,{clickable:""},{default:a(()=>[e(x,{avatar:""},{default:a(()=>[e(q,{square:""},{default:a(()=>[t("img",{src:s.image},null,8,ae)]),_:2},1024)]),_:2},1024),e(x,null,{default:a(()=>[F(M(s.title),1)]),_:2},1024),s.default?P("",!0):(l(),v(x,{key:0,side:""},{default:a(()=>[t("div",te,[e(r,{onClick:oe=>S(s.id,k),round:"",flat:"",color:"red",size:"sm",icon:"delete",class:"q-ml-sm"},null,8,["onClick"])])]),_:2},1024))]),_:2},1024)),[[j]]),e(V)],64))),128))]),_:1})]))]),_:1})]),_:1}),e(U,{modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=s=>i.value=s),persistent:""},{default:a(()=>[e(b,{class:"q-pa-md"},{default:a(()=>[e(h,{class:"row items-center"},{default:a(()=>[se]),_:1}),e(T,{align:"center"},{default:a(()=>[w(e(r,{outline:"",disable:n.value,class:"q-mx-md",label:"No",color:"red"},null,8,["disable"]),[[$]]),e(r,{class:"q-mx-md",label:"Yes",color:"red",loading:n.value,onClick:A},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{xe as default};
