import{k as z,l as D,r as o,o as I,p as l,x as v,t as a,f as e,aw as q,ax as g,s as t,Q as r,ay as Q,q as m,F as h,ah as w,ad as b,af as F,a1 as V,v as j,ag as M,al as P,aj as R,az as E}from"./index.7f71ea72.js";import{Q as y}from"./QSkeleton.f6d47279.js";import{Q as O,a as x}from"./QItem.0b16b194.js";import{Q as T}from"./QList.b1960a70.js";import{Q as U}from"./QCardActions.ad149bad.js";import{Q as Y}from"./QPage.a06096b5.js";import{C as $}from"./ClosePopup.1d5de704.js";import{u as G}from"./adminStore.38110329.js";const H={class:"row items-center"},J=t("div",{class:"text-h5 q-ml-md"},"My Category",-1),K=t("div",{class:"tt-spacer"},null,-1),W=t("span",{style:{"font-weight":"400","letter-spacing":"0.65px"},class:"q-mr-xs text-capitalize"},"Add New ",-1),X={class:"q-pl-sm full-width"},Z={class:"text-weight-medium text-h6 q-mb-xs"},ee={key:1,class:"lists"},ae=["src"],te={class:"flex"},se=t("span",{class:"q-ml-sm text-h5 text-center"},"Are you sure want to delete category.",-1),pe=Object.assign({name:"CategoryLists"},{__name:"Lists",setup(le){const c=G();z();const k=D(),B=()=>{k.push({name:"category-create"})},f=o(!1),n=o(!1),i=o(!1),p=o(0),_=o(-1),L=()=>{k.back()},N=async()=>{try{f.value=!0,await c.FetchCategory()}finally{f.value=!1}},S=(d,u)=>{p.value=d,_.value=u,n.value=!0},A=async()=>{i.value=!0;try{await c.DeleteCategory(p.value),c.categories.splice(_.value,1),p.value=0,_.value=-1,n.value=!1}catch(d){console.error(d)}finally{i.value=!1}};return I(()=>{N()}),(d,u)=>(l(),v(Y,{class:"aa-product-list-page"},{default:a(()=>[e(q,{unelevated:"",class:"aa-product-page"},{default:a(()=>[e(g,{class:"row items-center header-action-bar q-px-xs"},{default:a(()=>[t("div",H,[e(r,{round:"",unelevated:"",icon:"arrow_back",onClick:L}),J]),K,e(r,{flat:"",color:"primary",onClick:B},{default:a(()=>[W]),_:1})]),_:1}),e(Q),e(g,{style:{height:"calc(100vh - 66px)"},class:"scroll q-pa-none"},{default:a(()=>[f.value?(l(),m(h,{key:0},w(5,s=>t("div",{class:"profile-card col q-mx-md q-mb-md q-px-md q-py-md flex no-wrap items-center bg-white",key:s},[t("div",null,[e(b,{size:"54px"},{default:a(()=>[e(y,{height:"55px",width:"55px",square:""})]),_:1})]),t("div",X,[t("div",Z,[e(y,{height:"30px",square:""})]),t("div",null,[e(y)])])])),64)):(l(),m("div",ee,[e(T,{bordered:""},{default:a(()=>[(l(!0),m(h,null,w(F(c).categories,(s,C)=>(l(),m(h,{key:"category"+C},[V((l(),v(O,{clickable:""},{default:a(()=>[e(x,{avatar:""},{default:a(()=>[e(b,{square:""},{default:a(()=>[t("img",{src:s.image},null,8,ae)]),_:2},1024)]),_:2},1024),e(x,null,{default:a(()=>[j(M(s.title),1)]),_:2},1024),s.default?P("",!0):(l(),v(x,{key:0,side:""},{default:a(()=>[t("div",te,[e(r,{onClick:oe=>S(s.id,C),round:"",flat:"",color:"red",size:"sm",icon:"delete",class:"q-ml-sm"},null,8,["onClick"])])]),_:2},1024))]),_:2},1024)),[[R]]),e(Q)],64))),128))]),_:1})]))]),_:1})]),_:1}),e(E,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=s=>n.value=s),persistent:""},{default:a(()=>[e(q,{class:"q-pa-md"},{default:a(()=>[e(g,{class:"row items-center"},{default:a(()=>[se]),_:1}),e(U,{align:"center"},{default:a(()=>[V(e(r,{outline:"",disable:i.value,class:"q-mx-md",label:"No",color:"red"},null,8,["disable"]),[[$]]),e(r,{class:"q-mx-md",label:"Yes",color:"red",loading:i.value,onClick:A},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{pe as default};
