import{u as D,l as U,r as k,c as N,o as E,p,q as w,f as a,af as n,t as c,ax as S,s as e,Q as f,F,ai as g,v as m,ag as u,am as O,al as T,x as Q,aw as Y}from"./index.b415cf6e.js";import{Q as R}from"./QRadio.acb9a691.js";import{u as M}from"./cart-store.2ab2068a.js";import{_ as j}from"./ShippingAddress.ca94c99e.js";import"./option-sizes.c6fcfed8.js";import"./QCardActions.a6f82528.js";const K={class:"wrapper-my-profile"},W={class:"row items-center"},Z=e("div",{class:"text-h5 q-ml-md"},"Order Confirmation",-1),G={class:"profile-card col q-mx-md q-my-md q-px-md q-py-md bg-white"},H={class:"flex items-center"},J=e("div",{class:"text-h5 text-weight-medium"},"Address",-1),L=e("div",{class:"tt-spacer"},null,-1),X={class:"q-mt-md row no-wrap q-pr-md"},ee={style:{"min-width":"30px"}},te={class:"text-h6 text-grey-8"},ae=e("br",null,null,-1),se={key:1,class:"text-center"},le=e("div",{class:"text-red q-pa-lg text-h6"},"No shipping address",-1),oe={class:"profile-card col q-mx-md q-my-md q-px-md q-py-md flex items-center bg-white text-primary"},de=e("div",{class:"text-h5 text-weight-medium"},"Total Pay :",-1),ne=e("div",{class:"tt-spacer"},null,-1),re={class:"text-h5 text-weight-bold"},ie={class:"flex q-mx-sm"},ce=e("div",{class:"text-h6 q-mt-sm"},"Cash on delivery",-1),me=e("div",{class:"text-h6 q-mt-sm"},"Online",-1),ue={key:0,class:"q-mt-xl q-px-lg text-red text-h6",style:{"max-width":"360px"}},pe=e("b",null," \u20B9200 ",-1),ve={class:"text-center q-mt-xl q-px-lg"},we={__name:"OrderConfirmationScreen",setup(he){const s=D(),C=M(),b=U(),l=k("cash"),q=k(!1),v=k(!1),B=()=>{b.replace({name:"my-cart"})},o=N(()=>s.address[0]),V=d=>{l.value=d},h=N(()=>C.cartItems.reduce((d,t)=>(t.isPublished&&(d=d+t.sellPrice*t.quantity),d),0)),I=async()=>{if(!(s.address&&s.address.length))return v.value=!0,!1;try{q.value=!0;const d={payment_mode:l.value};await C.placeOrder(d),b.replace({name:"success-confirmation"})}finally{q.value=!1}},z=()=>{v.value=!0},$=()=>{var r,_,x;const d={key:"YOUR_RAZORPAY_KEY_ID",amount:h.value*100,currency:"INR",name:"Shanvi shop",description:"We provides the all type of products",image:"https://se-neeraj-maurya.github.io/icons/favicon-32x32.png",order_id:"order_xxx",handler:function(y){console.log(y),alert("Payment successful! Payment ID: "+y.razorpay_payment_id)},prefill:{name:(r=o.value)==null?void 0:r.name,email:(_=o.value)==null?void 0:_.email,contact:(x=o.value)==null?void 0:x.phone},notes:{address:"Note about the transaction"},theme:{color:"#F37254"}};new Razorpay(d).open()};return E(()=>{h.value<200&&(l.value="online"),s.address&&s.address.length||(v.value=!0)}),(d,t)=>(p(),w("div",K,[a(j,{modelValue:v.value,"onUpdate:modelValue":t[0]||(t[0]=r=>v.value=r),data:o.value,"is-update":!!(n(s).address&&n(s).address.length)},null,8,["modelValue","data","is-update"]),a(Y,{class:"bg-grey-3"},{default:c(()=>[a(S,{class:"row items-center header-action-bar q-px-xs"},{default:c(()=>[e("div",W,[a(f,{round:"",unelevated:"",icon:"arrow_back",onClick:B}),Z])]),_:1}),a(S,{style:{height:"calc(100vh - 66px)"},class:"scroll q-pa-none"},{default:c(()=>{var r,_,x,y,P,A;return[e("div",G,[n(s).address&&n(s).address.length?(p(),w(F,{key:0},[e("div",H,[J,L,a(f,{onClick:t[1]||(t[1]=i=>z()),color:"primary",size:"13px",flat:"",rounded:"","no-caps":"",unelevated:""},{default:c(()=>[a(g,{size:"13px",name:"edit",style:{"margin-right":"2px"}}),m(" Edit ")]),_:1})]),e("div",X,[e("div",ee,[a(g,{size:"24px",name:"pin_drop",style:{"margin-right":"2px"}})]),e("p",te,[m(u((r=o.value)==null?void 0:r.name)+" || "+u((_=o.value)==null?void 0:_.phone)+" ",1),ae,m(" "+u((x=o.value)==null?void 0:x.address_line1)+" "+u((y=o.value)==null?void 0:y.address_line2)+" "+u((P=o.value)==null?void 0:P.city)+" "+u((A=o.value)==null?void 0:A.postal_code),1)])])],64)):(p(),w("div",se,[le,a(f,{onClick:t[2]||(t[2]=i=>z()),color:"primary",rounded:"",outline:"","no-caps":"",unelevated:""},{default:c(()=>[a(g,{name:"add",style:{"margin-right":"2px"}}),m(" Add Shipping Address ")]),_:1})]))]),e("div",oe,[de,ne,e("div",re,"\u20B9 "+u(h.value),1)]),e("div",ie,[e("div",{class:O(["payment-type-card col q-mx-sm q-px-md q-py-lg bg-white text-center text-primary",{selected:l.value=="cash"}]),onClick:t[4]||(t[4]=i=>V("cash"))},[e("div",null,[a(R,{modelValue:l.value,"onUpdate:modelValue":t[3]||(t[3]=i=>l.value=i),val:"cash",color:"primary",class:"radio-icon"},null,8,["modelValue"])]),a(g,{size:"30px",name:"money"}),ce],2),e("div",{class:O(["payment-type-card col q-mx-sm q-px-md q-py-lg bg-white text-center text-primary",{selected:l.value=="online"}]),onClick:t[6]||(t[6]=i=>V("online"))},[e("div",null,[a(R,{modelValue:l.value,"onUpdate:modelValue":t[5]||(t[5]=i=>l.value=i),val:"online",color:"primary",class:"radio-icon"},null,8,["modelValue"])]),a(g,{size:"30px",name:"credit_card"}),me],2)]),h.value<200&&l.value=="cash"?(p(),w("div",ue,[m(" Cash on delivery available on minimum order amount "),pe])):T("",!0),e("div",ve,[l.value=="online"?(p(),Q(f,{key:0,class:"full-width",color:"primary","no-caps":"",unelevated:"",rounded:"",loading:q.value,onClick:$,disable:!(n(s).address&&n(s).address.length)},{default:c(()=>[m(" Make Payment ")]),_:1},8,["loading","disable"])):(p(),Q(f,{key:1,class:"full-width",color:"primary","no-caps":"",unelevated:"",rounded:"",onClick:I,loading:q.value,disable:h.value<200||!(n(s).address&&n(s).address.length)},{default:c(()=>[m(" Confirm Order ")]),_:1},8,["loading","disable"]))])]}),_:1})]),_:1})]))}};export{we as default};
