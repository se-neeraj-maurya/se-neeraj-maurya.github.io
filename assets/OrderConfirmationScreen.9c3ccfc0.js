import{u as D,r as w,c as S,o as U,n as u,p as k,f as a,a7 as q,s as i,q as e,Q as _,F as E,aa as x,v as m,a8 as c,t as C,ac as N,ad as F}from"./index.19c34057.js";import{Q as T,a as O}from"./QCard.51e3b46a.js";import{Q as R}from"./QRadio.2733c53f.js";import{u as Y}from"./cart-store.0444f8d2.js";import{_ as M}from"./ShippingAddress.43ac1e04.js";import{u as j}from"./authStore.f7fbb9db.js";import"./use-dark.c31cdf99.js";import"./option-sizes.cdda3b43.js";import"./use-form.d824d759.js";import"./axios.boot.c72b97f5.js";import"./QSeparator.878efa33.js";import"./QInput.1cf3f408.js";import"./uid.42677368.js";import"./focus-manager.02955f48.js";import"./QForm.7102f392.js";import"./QCardActions.f12f6d79.js";import"./QDialog.04c0b3f2.js";const K={class:"wrapper-my-profile"},W={class:"row items-center"},Z=e("div",{class:"text-h5 q-ml-md"},"Order Confirmation",-1),G={class:"profile-card col q-mx-md q-my-md q-px-md q-py-md bg-white"},H={class:"flex items-center"},J=e("div",{class:"text-h5 text-weight-medium"},"Address",-1),L=e("div",{class:"tt-spacer"},null,-1),X={class:"q-mt-md row no-wrap q-pr-md"},ee={style:{"min-width":"30px"}},te={class:"text-h6 text-grey-8"},ae=e("br",null,null,-1),se={class:"profile-card col q-mx-md q-my-md q-px-md q-py-md flex items-center bg-white text-primary"},oe=e("div",{class:"text-h5 text-weight-medium"},"Total Pay :",-1),le=e("div",{class:"tt-spacer"},null,-1),ne={class:"text-h5 text-weight-bold"},re={class:"flex q-mx-sm"},de=e("div",{class:"text-h6 q-mt-sm"},"Cash on delviry",-1),ie=e("div",{class:"text-h6 q-mt-sm"},"Online",-1),me={key:0,class:"q-mt-xl q-px-lg text-red text-h6",style:{"max-width":"360px"}},ce=e("b",null," \u20B9200 ",-1),ue={class:"text-center q-mt-xl q-px-lg"},Se={__name:"OrderConfirmationScreen",setup(pe){const n=j(),b=Y(),V=D(),s=w("cash"),f=w(!1),p=w(!1),B=()=>{V.replace({name:"my-cart"})},o=S(()=>n.address[0]),z=l=>{s.value=l},g=S(()=>b.cartItems.reduce((l,t)=>(t.isPublished&&(l=l+t.sellPrice*t.quantity),l),0)),I=async()=>{if(!(n.address&&n.address.length))return p.value=!0,!1;try{f.value=!0;const l={payment_mode:s.value};await b.placeOrder(l),V.replace({name:"success-confirmation"})}finally{f.value=!1}},P=()=>{p.value=!0},$=()=>{var r,v,h;const l={key:"YOUR_RAZORPAY_KEY_ID",amount:g.value*100,currency:"INR",name:"Shanvi shop",description:"We provides the all type of products",image:"https://se-neeraj-maurya.github.io/icons/favicon-32x32.png",order_id:"order_xxx",handler:function(y){console.log(y),alert("Payment successful! Payment ID: "+y.razorpay_payment_id)},prefill:{name:(r=o.value)==null?void 0:r.name,email:(v=o.value)==null?void 0:v.email,contact:(h=o.value)==null?void 0:h.phone},notes:{address:"Note about the transaction"},theme:{color:"#F37254"}};new Razorpay(l).open()};return U(()=>{n.address&&n.address.length||(p.value=!0)}),(l,t)=>(u(),k("div",K,[a(M,{modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=r=>p.value=r),data:o.value,"is-update":!!(q(n).address&&q(n).address.length)},null,8,["modelValue","data","is-update"]),a(T,{class:"bg-grey-3"},{default:i(()=>[a(O,{class:"row items-center header-action-bar q-px-xs"},{default:i(()=>[e("div",W,[a(_,{round:"",unelevated:"",icon:"arrow_back",onClick:B}),Z])]),_:1}),a(O,{style:{height:"calc(100vh - 66px)"},class:"scroll q-pa-none"},{default:i(()=>{var r,v,h,y,A,Q;return[e("div",G,[q(n).address&&q(n).address.length?(u(),k(E,{key:0},[e("div",H,[J,L,a(_,{onClick:t[1]||(t[1]=d=>P()),color:"primary",size:"13px",flat:"",rounded:"","no-caps":"",unelevated:""},{default:i(()=>[a(x,{size:"13px",name:"edit",style:{"margin-right":"2px"}}),m(" Edit ")]),_:1})]),e("div",X,[e("div",ee,[a(x,{size:"24px",name:"pin_drop",style:{"margin-right":"2px"}})]),e("p",te,[m(c((r=o.value)==null?void 0:r.name)+" || "+c((v=o.value)==null?void 0:v.phone)+" ",1),ae,m(" "+c((h=o.value)==null?void 0:h.address_line1)+" "+c((y=o.value)==null?void 0:y.address_line2)+" "+c((A=o.value)==null?void 0:A.city)+" "+c((Q=o.value)==null?void 0:Q.postal_code),1)])])],64)):(u(),C(_,{key:1,onClick:t[2]||(t[2]=d=>P()),color:"primary",rounded:"",outline:"","no-caps":"",unelevated:""},{default:i(()=>[a(x,{name:"add",style:{"margin-right":"2px"}}),m(" Add Shipping Address ")]),_:1}))]),e("div",se,[oe,le,e("div",ne,"\u20B9 "+c(g.value),1)]),e("div",re,[e("div",{class:N(["payment-type-card col q-mx-sm q-px-md q-py-lg bg-white text-center text-primary",{selected:s.value=="cash"}]),onClick:t[4]||(t[4]=d=>z("cash"))},[e("div",null,[a(R,{modelValue:s.value,"onUpdate:modelValue":t[3]||(t[3]=d=>s.value=d),val:"cash",color:"primary",class:"radio-icon"},null,8,["modelValue"])]),a(x,{size:"30px",name:"money"}),de],2),e("div",{class:N(["payment-type-card col q-mx-sm q-px-md q-py-lg bg-white text-center text-primary",{selected:s.value=="online"}]),onClick:t[6]||(t[6]=d=>z("online"))},[e("div",null,[a(R,{modelValue:s.value,"onUpdate:modelValue":t[5]||(t[5]=d=>s.value=d),val:"online",color:"primary",class:"radio-icon"},null,8,["modelValue"])]),a(x,{size:"30px",name:"credit_card"}),ie],2)]),g.value<200&&s.value=="cash"?(u(),k("div",me,[m(" Cash on delvery available on minimum order amount "),ce])):F("",!0),e("div",ue,[s.value=="online"?(u(),C(_,{key:0,class:"full-width",color:"primary","no-caps":"",unelevated:"",rounded:"",loading:f.value,onClick:$},{default:i(()=>[m(" Make Payment ")]),_:1},8,["loading"])):(u(),C(_,{key:1,class:"full-width",color:"primary","no-caps":"",unelevated:"",rounded:"",onClick:I,loading:f.value,disable:g.value<200},{default:i(()=>[m(" Confirm Order ")]),_:1},8,["loading","disable"]))])]}),_:1})]),_:1})]))}};export{Se as default};
