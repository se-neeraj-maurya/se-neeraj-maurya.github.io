import{u as D,r as q,c as Q,o as U,n as _,p as S,f as a,a7 as g,s as i,q as e,Q as h,F as E,aa as x,v as m,a8 as c,t as w,ac as O}from"./index.0b50b950.js";import{Q as F,a as R}from"./QCard.47d0caec.js";import{Q as B}from"./QRadio.e0cfe6b0.js";import{u as T}from"./cart-store.c74d847f.js";import{_ as Y}from"./ShippingAddress.64c88bee.js";import{u as M}from"./authStore.b9f59675.js";import"./use-dark.a1890830.js";import"./option-sizes.21b4f8cf.js";import"./use-form.cb121783.js";import"./axios.boot.983c9995.js";import"./QSeparator.6f357aad.js";import"./QInput.1606e594.js";import"./uid.42677368.js";import"./focus-manager.02955f48.js";import"./QForm.2af90c39.js";import"./QCardActions.0292b5eb.js";import"./QDialog.6ab3ebea.js";const j={class:"wrapper-my-profile"},K={class:"row items-center"},W=e("div",{class:"text-h5 q-ml-md"},"Order Confirmation",-1),Z={class:"profile-card col q-mx-md q-my-md q-px-md q-py-md bg-white"},G={class:"flex items-center"},H=e("div",{class:"text-h5 text-weight-medium"},"Address",-1),J=e("div",{class:"tt-spacer"},null,-1),L={class:"q-mt-md row no-wrap q-pr-md"},X={style:{"min-width":"30px"}},ee={class:"text-h6 text-grey-8"},te=e("br",null,null,-1),ae={class:"profile-card col q-mx-md q-my-md q-px-md q-py-md flex items-center bg-white text-primary"},se=e("div",{class:"text-h5 text-weight-medium"},"Total Pay :",-1),oe=e("div",{class:"tt-spacer"},null,-1),le={class:"text-h5 text-weight-bold"},ne={class:"flex q-mx-sm"},re=e("div",{class:"text-h6 q-mt-sm"},"Cash on delviry",-1),de=e("div",{class:"text-h6 q-mt-sm"},"Online",-1),ie={class:"text-center q-mt-xl q-px-lg"},Pe={__name:"OrderConfirmationScreen",setup(ce){const l=M(),k=T(),C=D(),n=q("cash"),f=q(!1),u=q(!1),N=()=>{C.replace({name:"my-cart"})},s=Q(()=>l.address[0]),b=o=>{n.value=o},V=Q(()=>k.cartItems.reduce((o,t)=>(t.isPublished&&(o=o+t.sellPrice*t.quantity),o),0)),I=async()=>{if(!(l.address&&l.address.length))return u.value=!0,!1;try{f.value=!0;const o={payment_mode:n.value};await k.placeOrder(o),C.replace({name:"success-confirmation"})}finally{f.value=!1}},z=()=>{u.value=!0},$=()=>{var r,p,v;const o={key:"YOUR_RAZORPAY_KEY_ID",amount:V.value*100,currency:"INR",name:"Shanvi shop",description:"We provides the all type of products",image:"https://se-neeraj-maurya.github.io/icons/favicon-32x32.png",order_id:"order_xxx",handler:function(y){console.log(y),alert("Payment successful! Payment ID: "+y.razorpay_payment_id)},prefill:{name:(r=s.value)==null?void 0:r.name,email:(p=s.value)==null?void 0:p.email,contact:(v=s.value)==null?void 0:v.phone},notes:{address:"Note about the transaction"},theme:{color:"#F37254"}};new Razorpay(o).open()};return U(()=>{l.address&&l.address.length||(u.value=!0)}),(o,t)=>(_(),S("div",j,[a(Y,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=r=>u.value=r),data:s.value,"is-update":!!(g(l).address&&g(l).address.length)},null,8,["modelValue","data","is-update"]),a(F,{class:"bg-grey-3"},{default:i(()=>[a(R,{class:"row items-center header-action-bar q-px-xs"},{default:i(()=>[e("div",K,[a(h,{round:"",unelevated:"",icon:"arrow_back",onClick:N}),W])]),_:1}),a(R,{style:{height:"calc(100vh - 66px)"},class:"scroll q-pa-none"},{default:i(()=>{var r,p,v,y,P,A;return[e("div",Z,[g(l).address&&g(l).address.length?(_(),S(E,{key:0},[e("div",G,[H,J,a(h,{onClick:t[1]||(t[1]=d=>z()),color:"primary",size:"13px",flat:"",rounded:"","no-caps":"",unelevated:""},{default:i(()=>[a(x,{size:"13px",name:"edit",style:{"margin-right":"2px"}}),m(" Edit ")]),_:1})]),e("div",L,[e("div",X,[a(x,{size:"24px",name:"pin_drop",style:{"margin-right":"2px"}})]),e("p",ee,[m(c((r=s.value)==null?void 0:r.name)+" || "+c((p=s.value)==null?void 0:p.phone)+" ",1),te,m(" "+c((v=s.value)==null?void 0:v.address_line1)+" "+c((y=s.value)==null?void 0:y.address_line2)+" "+c((P=s.value)==null?void 0:P.city)+" "+c((A=s.value)==null?void 0:A.postal_code),1)])])],64)):(_(),w(h,{key:1,onClick:t[2]||(t[2]=d=>z()),color:"primary",rounded:"",outline:"","no-caps":"",unelevated:""},{default:i(()=>[a(x,{name:"add",style:{"margin-right":"2px"}}),m(" Add Shipping Address ")]),_:1}))]),e("div",ae,[se,oe,e("div",le,"\u20B9 "+c(V.value),1)]),e("div",ne,[e("div",{class:O(["payment-type-card col q-mx-sm q-px-md q-py-lg bg-white text-center text-primary",{selected:n.value=="cash"}]),onClick:t[4]||(t[4]=d=>b("cash"))},[e("div",null,[a(B,{modelValue:n.value,"onUpdate:modelValue":t[3]||(t[3]=d=>n.value=d),val:"cash",color:"primary",class:"radio-icon"},null,8,["modelValue"])]),a(x,{size:"30px",name:"money"}),re],2),e("div",{class:O(["payment-type-card col q-mx-sm q-px-md q-py-lg bg-white text-center text-primary",{selected:n.value=="online"}]),onClick:t[6]||(t[6]=d=>b("online"))},[e("div",null,[a(B,{modelValue:n.value,"onUpdate:modelValue":t[5]||(t[5]=d=>n.value=d),val:"online",color:"primary",class:"radio-icon"},null,8,["modelValue"])]),a(x,{size:"30px",name:"credit_card"}),de],2)]),e("div",ie,[n.value=="online"?(_(),w(h,{key:0,class:"full-width",color:"primary","no-caps":"",unelevated:"",rounded:"",loading:f.value,onClick:$},{default:i(()=>[m(" Make Payment ")]),_:1},8,["loading"])):(_(),w(h,{key:1,class:"full-width",color:"primary","no-caps":"",unelevated:"",rounded:"",onClick:I,loading:f.value},{default:i(()=>[m(" Confirm Order ")]),_:1},8,["loading"]))])]}),_:1})]),_:1})]))}};export{Pe as default};
