import{r,w as $,n as u,p as h,q as n,F as x,a6 as C,a9 as q,f as i,a5 as S,c as b,t as y,s as p,u as B,o as A,a7 as I,a4 as M,Q as N,v as j,aa as D}from"./index.4b170bd6.js";import{Q as F}from"./QInput.9d95a26c.js";import{Q as H}from"./QPage.0bd2e3dc.js";import{u as U}from"./globalStore.a7e31e8a.js";import{_ as R}from"./ProductList2.690259db.js";import{Q as k}from"./QImg.b9bfcb0b.js";import{a as z,Q as E}from"./QCarousel.e5af78ca.js";import{c as G}from"./db.eb94c5fc.js";import{u as O}from"./authStore.72342b7c.js";import"./use-dark.005e8194.js";import"./uid.42677368.js";import"./focus-manager.02955f48.js";import"./use-form.789c9149.js";import"./axios.boot.e43e317f.js";import"./selection.d02bb86a.js";const T={class:"cat-list-x-container"},X=["onClick"],J={class:"q-pt-sm ellipsis-2-lines"},V={__name:"CategoryListX",props:{modelValue:{type:String,default:null},list:{type:Array}},setup(v){const a=v,d=r();return $(()=>a.modelValue,t=>{d.value=t},{immediate:!0}),(t,m)=>(u(),h("div",T,[n("ul",null,[(u(!0),h(x,null,C(a.list,s=>(u(),h("li",{key:s,class:q({active:s.title==d.value}),onClick:c=>t.$emit("update:model-value",s.title)},[i(k,{class:"rounded-borders",style:{width:"60px","min-height":"60px"},src:s.image},null,8,["src"]),n("div",J,S(s.title),1)],10,X))),128))])]))}},K={__name:"HomeCarousel",props:{items:{type:Array}},emits:["click"],setup(v,{emit:a}){const d=v,t=r("carousel-1"),m=b(()=>d.items);return(s,c)=>(u(),y(E,{modelValue:t.value,"onUpdate:modelValue":c[0]||(c[0]=o=>t.value=o),"transition-prev":"jump-right","transition-next":"jump-left",swipeable:"",animated:"","control-color":"white","prev-icon":"arrow_left","next-icon":"arrow_right",navigation:"",infinite:"","keep-alive":"",autoplay:2e3},{default:p(()=>[(u(!0),h(x,null,C(m.value,o=>(u(),y(z,{key:o.name,name:o.name},{default:p(()=>[i(k,{class:"rounded-borders",fit:"contain",src:o.image},null,8,["src"])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]))}},W={class:"product-list"},Y={class:"q-pa-sm full-width"},Z={class:"row no-wrap items-center"},ee={class:"q-px-sm col"},te=n("div",{class:"q-pa-md text-title"},"Category",-1),ae=n("div",{class:"q-pa-md q-mt-sm text-title"},"Latest Items",-1),se={class:"q-pa-md text-center"},ye=Object.assign({name:"HomeScreen"},{__name:"HomeScreen",setup(v){const a=U(),d=B();O();const t=r("Soups & Porridges"),m=r([]),s=r(!1),c=r(!1),o=r(1),_=r(1),f=r([]),Q=l=>{a.openProductDetail(l)},L=async()=>{const l={page:1};try{s.value=!0;const e=await a.fetchProduct(l);f.value=e.data.list,o.value=e.data.total_pages,_.value=e.data.page}catch(e){console.log(e)}finally{s.value=!1}},P=async()=>{const l={page:_.value+1};try{c.value=!0;const e=await a.fetchProduct(l);f.value=f.value.concat(e.data.list),o.value=e.data.total_pages,_.value=e.data.page}finally{c.value=!1}},w=l=>{d.push({name:"product-by-category",params:{category:l.replaceAll(" ","-")}})};return A(()=>{console.log("fetchProductList"),m.value=a.categories,t.value=a.categories[0].title,L()}),(l,e)=>(u(),y(H,{class:"main-container row no-wrap product-list-page"},{default:p(()=>[n("div",W,[n("div",Y,[n("div",Z,[n("div",ee,[i(F,{outlined:"",rounded:"",dense:"",class:"search-input",placeholder:"Search...",onFocus:e[0]||(e[0]=g=>l.$router.push({name:"search"}))},{append:p(()=>[i(I,{name:"search"})]),_:1})])])]),i(K,{items:M(G)},null,8,["items"]),i(V,{class:"horigental-category",list:m.value,modelValue:t.value,"onUpdate:modelValue":[e[1]||(e[1]=g=>t.value=g),w]},null,8,["list","modelValue"]),te,i(V,{list:m.value,modelValue:t.value,"onUpdate:modelValue":[e[2]||(e[2]=g=>t.value=g),w]},null,8,["list","modelValue"]),ae,i(R,{products:f.value,"onClick:detail":Q},null,8,["products"]),n("div",se,[_.value<o.value?(u(),y(N,{key:0,class:"full-widh q-px-lg",color:"primary","no-caps":"",outline:"",unelevated:"",rounded:"",loading:c.value,onClick:P},{default:p(()=>[j(" Load More... ")]),_:1},8,["loading"])):D("",!0)])])]),_:1}))}});export{ye as default};
